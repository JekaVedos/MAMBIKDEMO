{"version":3,"sources":["utils/validators.js","Component/common/FormsControls/FormsControls.js","Component/common/FormsControls/FormsControls.module.scss","Component/Messages/Message.module.scss","Component/Messages/Message/Message.js","Component/Messages/Dialog/Dialog.js","Component/Messages/Messages.js","Component/Messages/MessagesContainer.js"],"names":["required","value","maxLengthCreator","maxLength","length","FormControl","input","meta","touched","error","children","hasError","className","s","input_container","error_alert","Textarea","props","restProps","child","Input","module","exports","Message","message_cont","message_user_logo","src","imgMess","alt","message","Dialog","path","id","to","mess_user","mess_user_logo","mess_user_name","name","maxLength50","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","mess_input_cont","Field","component","validate","placeholder","mess_input","Messages","state","DialogsElem","MessagePage","DialogsD","map","item","index","MessageElem","MessageD","chatContainer","React","createRef","scrollToMyRef","scroll","current","scrollHeight","clientHeight","scrollTo","mess_container","mess_users","mess_messages_cont","ref","messages_container","values","sendMessage","newMessValue","compose","connect","dispatch","sendMessageActionCreator","type","updMessText"],"mappings":"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","file":"static/js/5.cd226612.chunk.js","sourcesContent":["export const required = value => {\r\n\r\n   if (value) return undefined\r\n\r\n   return `please, write something...`\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => value => {\r\n\r\n   if (value && value.length > maxLength) return `Max lengths ${maxLength} symbols`\r\n\r\n   return undefined\r\n}\r\n\r\n","import React from \"react\";\r\nimport s from './FormsControls.module.scss'\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n\r\n   const hasError = touched && error\r\n\r\n   return (\r\n      <div className={s.input_container}>\r\n         {children}\r\n         {hasError &&\r\n         <span className={s.error_alert}>\r\n            {error}\r\n         </span>}\r\n      </div>\r\n\r\n   )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n   const {input, meta, child, ...restProps} = props\r\n   return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n   const {input, meta, child, ...restProps} = props\r\n   return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input_container\":\"FormsControls_input_container__1V9hL\",\"error\":\"FormsControls_error__3sWSX\",\"error_alert\":\"FormsControls_error_alert__2fgc6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mess_container\":\"Message_mess_container__1Cq1w\",\"mess_users\":\"Message_mess_users__1z_cc\",\"mess_user\":\"Message_mess_user__2uFnW\",\"mess_user_logo\":\"Message_mess_user_logo__2tNS2\",\"mess_messages_cont\":\"Message_mess_messages_cont__u67YH\",\"messages_container\":\"Message_messages_container__Qk_ap\",\"message_cont\":\"Message_message_cont__JtOqC\",\"message_user_logo\":\"Message_message_user_logo__3RgBG\",\"mess_input\":\"Message_mess_input__kyY76\",\"mess_input_cont\":\"Message_mess_input_cont__3HzCm\"};","import s from \"../Message.module.scss\";\r\nimport imgMess from \"../../../img/squishi-round.jpg\";\r\nimport React from \"react\";\r\n\r\nconst Message = (props) => {\r\n   return (\r\n      <li className={s.message_cont}>\r\n         <div className={s.message_user_logo}>\r\n            <img src={imgMess} alt=\"\"/>\r\n         </div>\r\n         <div className=\"message_text\">\r\n            <p>{props.message}</p>\r\n         </div>\r\n      </li>\r\n   )\r\n}\r\n\r\nexport default Message;","import {NavLink} from \"react-router-dom\";\r\nimport s from \"../Message.module.scss\";\r\nimport imgMess from \"../../../img/squishi-round.jpg\";\r\n\r\nconst Dialog = (props) => {\r\n   let path = `/messages/${props.id}`\r\n   return (\r\n      <NavLink to={path}>\r\n         <div className={s.mess_user}>\r\n            <div className={s.mess_user_logo}>\r\n               <img src={imgMess} alt=\"\"/>\r\n            </div>\r\n            <div className={s.mess_user_name}>\r\n               <h1>{props.name}</h1>\r\n            </div>\r\n         </div>\r\n      </NavLink>\r\n   )\r\n}\r\n\r\nexport default Dialog","import React from 'react';\r\nimport s from './Message.module.scss'\r\nimport Message from './Message/Message'\r\nimport Dialog from \"./Dialog/Dialog\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators\";\r\n\r\nconst Messages = (props, state) => {\r\n\r\n   let DialogsElem = props.MessagePage.DialogsD.map((item, index) => <Dialog key={index} id={item.id}\r\n                                                                             name={item.name}/>)\r\n\r\n   let MessageElem = props.MessagePage.MessageD.map((item, index) => <Message key={index} message={item.message}/>)\r\n\r\n   let chatContainer = React.createRef();\r\n\r\n   let addNewMessage = (values) => {\r\n      props.sendMessage(values.newMessValue)\r\n      scrollToMyRef()\r\n   }\r\n\r\n   let scrollToMyRef = () => {\r\n      const scroll = chatContainer.current.scrollHeight - chatContainer.current.clientHeight;\r\n      chatContainer.current.scrollTo(0, scroll);\r\n   };\r\n\r\n   return (\r\n      <div className={s.mess_container}>\r\n         <div className={s.mess_users}>\r\n            {DialogsElem}\r\n         </div>\r\n         <div className={s.mess_messages_cont}>\r\n            <ul ref={chatContainer} className={s.messages_container}>\r\n               {MessageElem}\r\n            </ul>\r\n            <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n         </div>\r\n      </div>\r\n   )\r\n}\r\n\r\nconst maxLength50 = maxLengthCreator(50)\r\n\r\nconst AddMessageForm = (props) => {\r\n   return (\r\n      <form onSubmit={props.handleSubmit}>\r\n         <div className={s.mess_input_cont}>\r\n            <Field component={Input} validate={[required, maxLength50]} name={'newMessValue'} placeholder={'enter your message'}\r\n                   className={s.mess_input}/>\r\n            <button>\r\n               Send\r\n            </button>\r\n         </div>\r\n      </form>\r\n   )\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm({\r\n   form: 'dialogAddMessageForm'\r\n})(AddMessageForm)\r\n\r\nexport default Messages;\r\n\r\n\r\n\r\n","import {sendMessageActionCreator} from \"../../Redux/messageReducer\";\r\nimport Messages from \"./Messages\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n   return {\r\n      MessagePage: state.MessagePage\r\n   }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n   return {\r\n      sendMessage: (newMessValue) => {\r\n         dispatch(sendMessageActionCreator(newMessValue));\r\n         dispatch({type: 'UPDATE-NEW-MESSAGE-TEXT', updMessText: ''});\r\n      }\r\n   }\r\n}\r\n\r\nexport default compose(\r\n   connect(mapStateToProps, mapDispatchToProps),\r\n   // withAuthRedirect\r\n)(Messages);\r\n\r\n\r\n\r\n"],"sourceRoot":""}